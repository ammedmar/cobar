% !TEX root = ../cobar1.tex

\section{Cubical cobar construction}

We construct a cubical model for the based loop space using necklical sets, a notion related to both simplicial sets and cubical sets.
Similar constructions and results may be found in \cite{baues1980geometry}, \cite{berger1995loops}, \cite{baues1998hopf}, \cite{dugger2011rigidification}, \cite{galvez2020hopf}, and \cite{rivera2018cubical, rivera2019path}.

\subsection{Necklical sets}

Let us consider the subcategory $\simplex_{*,*}$ of the simplex category $\simplex$ with the same objects and morphisms given by functors $f \colon [n] \to [m]$ satisfying $f(0) = 0$ and $f(n) = m$.
It is a strict monoidal category when equipped with the monoidal structure $[n] \otimes [m] = [n+m]$, thought of as identifying the elements $n \in [n]$ and $0 \in [m]$, and unit given by $[0]$.
In passing, we mention that this category is $\op$-dual to the augmented simplex category, a form of Joyal duality.

The \textit{necklace category} $\Nec$ is obtained from $\simplex_{*,*}$ as follows.
Thinking of $\simplex_{*,*}$ as a monoid in $\Cat$, we first apply the bar construction to it and produce a simplicial object in $\Mon_{\Cat}$ which, after realization, defines the strict monoidal category $\Nec$.
We denote the monoidal structure by
\[
\vee \colon \Nec \times \Nec \to \Nec.
\]
We describe $(\Nec, \vee)$ in more explicit terms.
The objects of $\Nec$, called \textit{necklaces}, are freely generated by the objects of $\simplex_{*,*}$ through the monoidal structure $\vee$.
Namely, the set of objects of $\Nec$ is given by
\[
\big\{ [n_1] \vee \dots \vee[n_k] \mid n_i, k \in \N_{>0} \big\}
\]
together with $[0]$ serving as the monoidal unit.

The morphisms of $\Nec$ are generated through the monoidal structure by the following four types of morphisms:
\begin{enumerate}
	\item $\partial^j \colon [n-1] \to [n]$ for $j = 1, \dots, n-1$,
	\item $\Delta_{[j], [n-j]} \colon [j] \vee [n-j] \to [n]$ for $j = 1, \dots, n-1$,
	\item $s^j \colon [n+1] \to [n]$ for $j = 0, \dots, n$ and $n>0$, and
	\item $s^0 \colon [1] \to [0]$.
\end{enumerate}
We may identify $\Nec$ with a full sub-category of the category of double pointed simplicial sets $\sSet_{*,*}$ as follows.
Consider the functor
\[
\mathcal{S} \colon \Nec \to \sSet_{*,*}
\]
induced by sending any necklace $T = [n_1] \vee \dots \vee[n_k]$ to the simplicial set
\[
\mathcal{S}(T) = \simplex^{n_1} \vee \dots \vee \simplex^{n_k},
\]
where the wedge symbol now means we identify the last vertex of $\simplex^{n_i}$ with the first vertex of $\simplex^{n_{i+1}}$ for $i = 1, \dots, k-1$ and the two base points are given by the first vertex of $\simplex^{n_1}$ and the last vertex of $\simplex^{n_k}$.
Then $\mathcal{S}$ is a fully faithful functor, so $\Nec$ may be identified with the full sub-category of $\sSet_{*,*}$ having as objects those double pointed simplicial sets of the form $\simplex^{n_1} \vee \dots \vee \simplex^{n_k}$.
The \textit{dimension} of a necklace $T = [n_1] \vee \dots \vee[n_k]$ is defined by $\dim(T) = n_1 + \dots + n_k-k$.

The (non-symmetric) monoidal category of \textit{necklical sets} $\Fun(\Nec^{\op}, \Set)$ equipped with Day convolution (\cref{ss:day convolution}) is denoted by $\nSet$.

\subsection{From necklaces to cubes}

We now describe a categorical version of Adams' maps $\theta_n \colon \gcube^{n-1} \to P(\gsimplex^{n};0,n)$ by constructing a monoidal functor
\[
\cP \colon \Nec \to \cube.
\]

We first set $\cP([0])=2^0$.
On any other necklace $T \in \Nec$ we define $\cP(T) = 2^{\dim(T)}$.
In order to define $\cP$ on morphisms, it is sufficient to consider the following cases.
\begin{enumerate}
	\item For any $\partial^j \colon [n] \to [n+1]$ such that $0< j<{n+1}$, define $\cP(\partial^j) \colon 2^{n-1}\to 2^{n}$ to be the cubical coface functor $\cP(f)= \delta_0^{j}$.

	\item For any $\Delta_{[j], [n+1-j]} \colon [j] \vee [n+1-j] \to [n+1]$ such that $0<j<n+1$, define
	\[
	\cP(\Delta_{[j], [n+1-j]}) \colon 2^{n-1}\to 2^{n}
	\]
	to be the cubical coface functor $\cP(f)=\delta_1^{j}$.

	\item We now consider morphisms of the form $s^j \colon [n+1] \to [n]$ for $n>0$.
	If $j=0$ or $j=n$, then $\cP(f) \colon 2^n \to 2^{n-1}$ is defined to be the cubical codegeneracy functor $\cP(s^j)= \varepsilon^{j}$.
	If $0<j<n$, then we define $\cP(s^j) \colon 2^n \to 2^{n-1}$ to be the cubical coconnection functor $\gamma^{j}$.

	\item For $s^0 \colon [1] \to [0]$ we define $\cP(s^0) \colon 2^0 \to 2^0$ to be the identity functor.
\end{enumerate}

\begin{remark}
	The functor $\cP$ is neither faithful or full.
	However, for any necklace $T' \in \Nec$ with $\dim(T')=n+1$ and any cubical coface functor $\delta_{\epsilon}^j \colon 2^n \to 2^{n+1}$ for $0 \leq j \leq n+1$, there exists a unique pair $(T, f \colon T \hookrightarrow T')$, where $T \in \Nec$ with $\dim(T)=n$ and $f \colon T \hookrightarrow T'$ is an injective morphism in $\Nec$, such that $\cP(f) = \delta_{\epsilon}^j $.
\end{remark}

The functor $\cP \colon \Nec \to \cube$ induces an adjunction between $\cSet$ and $\nSet$ with right and left adjoint functors given respectively by
\[
\cP^\ast \colon \cSet \to \nSet,
\qquad \text{and} \qquad
\cP_{!} \colon \nSet \to \cSet.
\]
Explicitly, for a cubical set $Y \colon \cube^\op \to \Set$,
\[
\cP^\ast(Y)= Y \circ \cP^\op,
\]
and for a necklical set $K \colon \Nec^\op \to \Set$,
\[
\cP_{!}(K) \ =
\colim_{\mathcal{Y}(T) \to K} \cP(T) \ \cong
\colim_{\mathcal{Y}(T) \to K} \cube^{\dim(T)}.
\]
Since $\cP$ is a monoidal functor, the functor $\cP_{!} \colon \nSet \to \cSet$ is a monoidal as well.

\subsection{Cubical cobar construction} \label{ss:cubical cobar}

Using the framework of necklical sets, we may reinterpret a Baues' geometric cobar construction from \cite{baues1998hopf} as a functor
\[
\ncobar \colon \sSet^0 \to \Mon_{\nSet},
\]
which we now define.

For any reduced simplicial set $X$, we define a necklical set $\ncobar(X) \colon \Nec^\op \to \Set$ having as necklical cells all necklaces inside $X$; namely
\[
\ncobar(X) \, = \! \colim_{\mathcal{S}(T) \to X} \mathcal{Y}(T).
\]
The monoidal structure $\vee \colon \Nec \times \Nec \to \Nec$ given by concatenation of necklaces induces a natural product
\[
\ncobar(X) \otimes \ncobar(X) \to \ncobar(X)
\]
making $\ncobar(X)$ into a monoid in the monoidal category $\nSet$.

We may now define the \textit{cubical cobar construction}
\[
\ccobar \colon \sSet^0 \to \Mon_{\cSet}
\]
as the composition
\[
\ccobar = \cP_! \, \ncobar.
\]
This reinterpretation of Baues construction in terms of cubical sets was also studied in \cite{rivera2018cubical}.

\subsection{Relation to the cobar construction}

We now relate the cubical cobar functor $\ccobar \colon \sSet^0 \to \Mon_{\cSet}$ to the cobar construction $\cobar \colon \coAlg \to \Mon_{\Ch}$ (\cref{ss:cobar construction}).

\begin{lemma} \label{l:ccobar and cobar}
	There is a natural isomorphisms of functors
	\[
	\cchains \ccobar \cong \cobar \schainsA \colon \sSet^0 \to \Mon_{\Ch}.
	\]
\end{lemma}

\begin{proof}
	Denote by $\iota_n \in (\cube^n)_n$ the top dimensional non-degenerate element of the standard $n$-cube $\cube^n$.
	Note that for a reduced simplicial set $X$, we may represent any non-degenerate $n$-cube $\alpha \in (\cP_!(\ncobar(X)))_n$ as a pair $\alpha = [\sigma \colon \mathcal{Y}(T) \to X, \iota_n]$ for some $T = [n_1] \vee \dots \vee [n_k] \in \Nec$ with $\dim(T) = n_1 + \dots + n_k - k = n$.

	To define an algebra map
	\[
	\varphi_X \colon \cchains(\cP_!(\ncobar(X))) \xra{\cong} \cobar \schainsA(X)
	\]
	it suffices to define it on any generator of the form $\alpha=[\sigma \colon \simplex^{n+1} \to X, \iota_{n}]$, i.e., when $T$ is of the form $T = [n+1]$, for some $n \geq 0$.
	If $n = 0$ let $\varphi_X(\alpha)= [\overline{\sigma}] + 1_\k$, where $[\overline{\sigma}] \in s^{-1} \overline{ \schains(X)} \subset \cobar \schainsA(X)$ denotes the (length $1$) generator in the cobar construction of $\schains(X)$ determined by $\sigma \in X_{n+1}$ and $1_\k$ denotes the unit of the underlying ring $\k$.
	If $n > 0$, we let $\varphi_X(\alpha)=[\overline{\sigma}]$.
	A straightforward computation yields that this gives rise to a well defined isomorphism of algebras, which is compatible with the differentials, and natural with respect to maps of simplicial sets.
\end{proof}
A similar result to \cref{l:ccobar and cobar} was observed in the case of $1$-reduced simplicial sets in \cite[Section~3.5]{berger1995loops}.
