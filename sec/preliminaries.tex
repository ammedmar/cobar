% !TEX root = ../cobar1.tex

\section{Conventions and preliminaries}\label{s:preliminaries}

%\subsection{Categorical notions}\label{ss:category theory}

%Given categories $\sB$ and $\sC$ we denote by $\Fun(\sB, \sC)$ their associated \textit{functor category}, i.e. the category whose objects are functors and morphisms are natural transformations.
%A category is said to be \textit{cocomplete} if any functor to it from a small category has a colimit.
%If $\sA$ is small and $\sC$ cocomplete, then the (left) \textit{Kan extension} of $g$ along $f$ exists for any pair of functors $f$ and $g$ in the diagram below, and it is the initial object in $\Fun(\sB, \sC)$ making
%\begin{equation*}
	%\begin{tikzcd}[column sep=normal, row sep=normal]
		%\sA \arrow[d, "f"'] \arrow[r, "g"] & \sC \\
		%\sB \arrow[dashed, ur, bend right] & \quad
	%\end{tikzcd}
%\end{equation*}
%commute.
%The category $\Fun(\sA^\op, \Set)$ of functors from a small category $\sA$ to the category of sets $\Set$ is cocomplete.
%The \textit{Yoneda embedding} is the functor
%\[
%\yoneda \colon \sA \to \Fun(\sA^\op, \Set)
%\]
%induced by the assignment
%\[
%a \mapsto \big(a^\prime \mapsto \sA(a^\prime, a)\big).
%\]
%is referred to as a \textit{Yoneda extension}.
%Objects in the image of the Yoneda embedding are said to be \textit{representable}.
%Any presheaf $P$ is isomorphic to a colimit of representables presheaves $P \, \cong \colim_{\yoneda(a) \to P} \yoneda(a)$.
%If $(\sA, \otimes, \mathbb{1})$ is a monoidal category, then  $\Fun(\sA^\op, \Set)$ becomes a monoidal category when equipped with the \textit{Day convolution product}.

%defined for any $F,G \in \Fun(\sA^\op, \Set)$ by
%\[
%F \otimes G \ = \colim_{\substack{\yoneda(a) \to F \\ \yoneda(b) \to G}} \yoneda(a \otimes b),
%\]
%where the colimit is taken over the category whose objects are pairs of morphisms $(\yoneda(a) \to F, \yoneda(b) \to G)$ in $\Fun(\sA^\op, \Set)$ for $a,b \in \sA$ and morphisms are pairs of commutative triangles.

%A \textit{monoid} $(M, \mu, \eta)$ in a monoidal category $(\sC, \ot, \mathbb{1})$ is an object $M$ together with morphisms $\mu \colon M \ot M \to M$ and $\eta \colon \mathbb{1} \to M$ satisfying the usual associativity and unital relations.
%We denote the category of monoids in $\sC$ by $\Mon_{\sC}$ and remark that a lax monoidal functor $\sC \to \sC^\prime$ induces a functor between their categories of monoids $\Mon_\sC \to \Mon_{\sC^\prime}$.

%Throughout this article $\k$ denotes a commutative and unital ring and we work over its associated symmetric monoidal category of (homologically) graded chain complexes of $\k$-modules $(\Ch, \ot, \k)$.
%
%As usual, we refer to the objects and morphisms of this category as \textit{chain complexes} and \textit{chain maps} respectively.
%We denote by $\Hom(C, C^\prime)$ the chain complex of $\k$-linear maps between chain complexes $C$ and $C^\prime$, and refer to the functor $\Hom(-, \k)$ as \textit{linear duality}.

%The $i^\th$ \textit{suspension} functor $s^i \colon \Ch \to \Ch$ is defined by $(s^{i}C)_n = C_{n-i}$.
%A monoid in $(\Ch, \ot, \k)$, referred to as a \textit{monoidal chain complex}, is a differential graded $\k$-algebra.

%A \textit{monoid} $(M, \mu, \eta)$ in a monoidal category $(\sC, \ot, \mathbb{1})$ is an object $M$ together with morphisms $\mu \colon M \ot M \to M$ and $\eta \colon \mathbb{1} \to M$ satisfying the usual associativity and unital relations.
%We denote the category of monoids in $\sC$ by $\Mon_{\sC}$ and remark that a lax monoidal functor $\sC \to \sC^\prime$ induces a functor between their categories of monoids $\Mon_\sC \to \Mon_{\sC^\prime}$.

%A morphism $f \colon A \to A'$ in $\Mon_\Ch$ inducing an isomorphism on homology will be called a \textit{monoidal quasi-isomorphism.}

\subsection{Coalgebras}\label{ss:coalgebras}

Throughout this article $\k$ denotes a commutative and unital ring and we work over its associated symmetric monoidal category of (homologically) graded chain complexes of $\k$-modules $(\Ch, \ot, \k)$.

A \textit{coalgebra} consists of a chain complex $C$ and chain maps $\Delta \colon C \to C \ot C$ and $\varepsilon \colon C \to \k$ satisfying the usual coassociativity and counitality relations.
%This notion is equivalent to that of a comonoid in $\Ch$.
Denote by $\coAlg$ the category of coalgebras with morphisms being structure preserving chain maps.
The category $\coAlg$ is symmetric monoidal, with braiding induced from $\Ch$ and structure maps of a product $C \ot C^\prime$ given by
\begin{gather*}
	C \ot C^\prime \xra{\Delta \ot \Delta^\prime}
	(C \ot C) \ot (C^\prime \ot C^\prime) \xra{(23)}
	(C \ot C^\prime) \ot (C \ot C^\prime), \\
	C \ot C^\prime \xra{\varepsilon \ot \varepsilon^\prime}
	\k \ot \k \xra{\cong} \k.
\end{gather*}

A \textit{coaugmentation} on a coalgebra $C$ is a coalgebra map $\nu \colon \k \to C$.
A coalgebra is said to be \textit{coaugmented} if it is equipped with a coaugmentation.
We denote by $\coAlg^\ast$ the category of coaugmented coalgebras with morphisms being coaugmentation preserving coalgebra maps.
A coaugmented coalgebra is a \textit{connected coalgebra} if it is $0$ in negative degrees and the coaugmentation induces an isomorphism $\k \cong C_0$ of $\k$-modules.
We denote by $\coAlg^0$ the full subcategory of $\coAlg^\ast$ defined by these.

\subsection{Monoids}

A \textit{monoidal object} in a monoidal category $(\sC, \ot, \mathbb{1})$ is an object $M$ together with morphisms $\mu \colon M \ot M \to M$ and $\eta \colon \mathbb{1} \to M$ satisfying the usual associativity and unital relations.
The category of these together with structure preserving morphisms, referred to as \textit{monoidal morphisms}, is denoted $\Mon_\sC$.
%\textit{monoid} $(M, \mu, \eta)$ in a monoidal category $(\sC, \ot, \mathbb{1})$ is an object $M$ together with morphisms $\mu \colon M \ot M \to M$ and $\eta \colon \mathbb{1} \to M$ satisfying the usual associativity and unital relations.
%We denote the category of monoids in $\sC$ by $\Mon_{\sC}$ and
We remark that a lax monoidal functor $\sC \to \sC^\prime$ induces a functor between their categories of monoids $\Mon_\sC \to \Mon_{\sC^\prime}$.
For example, the forgetful functor from $\coAlg$ to $\Ch$ is monoidal and so, it induces a forgetful functor from monoidal coalgebras to monoidal chain complexes, which are more commonly known as bialgebras and algebras respectively, but this terminology is no well suited for our purposes.

\subsection{Simplicial theory}\label{ss:simplicial}

The \textit{simplex category} is denoted by $\simplex$ and its objects by $[n]$. The morphisms in $\simplex$ are generated by coface maps, denoted by $\partial^{j}_n \colon [n-1] \to [n]$ for $0\leq j \leq n$, and codegeneracy maps, denoted by $\xi^{j}_n \colon [n+1] \to [n]$ for $0 \leq j \leq n+1$. These satisfy the usual cosimplicial identities. For simplicity, we omit the subscript in the notation when there is no risk of confusion and simply denote these maps by $\partial^{j} \colon [n-1] \to [n]$ and $\xi^{j} \colon [n+1] \to [n]$.

The category of \textit{simplicial sets} $\Fun(\simplex^\op, \Set)$ is denoted by $\sSet$ and the \textit{standard $n$-simplex} $\simplex(-, [n])$ by $\simplex^n$.
For any simplicial set $X$ we write, as usual, $X_n$ instead of $X[n]$, and identify the elements of $\simplex^n_m$ with increasing tuples $[v_0, \dots, v_m]$ where $v_i \in \{0, \dots, n\}$.

If $X$ is such that $X_0$ is a singleton set we say that $X$ is \textit{reduced}.
We denote the full subcategory of reduced simplicial sets by $\sSet^0$.

We consider the \textit{topological $n$-simplex} $\gsimplex^n$ embedded in $\mathbb{R}^{n+1}$ as
\[ \gsimplex^n = \{ (x_0, \dots, x_n) \in \mathbb{R}^{n+1} | x_0^2 + \dots + x_n^2=1\} \]
so that the $i$-th vertex is given by the standard basis vector $v_i=(0,\ldots,1, \ldots,0) \in \mathbb{R}^{n+1}$ with $1$ in the $i$-th entry and $0$ in all other entries. Consider the usual adjunction pair formed by the \textit{geometric realization} and \textit{singular complex}
\[
\begin{tikzcd}
	\bars{\ } \colon \sSet \arrow[r, shift left=.5ex] &
	\Top :\! \sSing, \arrow[l, shift left=.5ex]
\end{tikzcd}
\]
determined by
% the cosimplicial space defined by
the spaces $\gsimplex^n$ and usual coface inclusions $\delta^i \colon \gsimplex^{n-1} \to \gsimplex^n$ and codegeneracy projections $\sigma^j \colon \gsimplex^n \to \gsimplex^{n-1}$.

The functor of (normalized) \textit{simplicial chains} $\schains \colon \sSet \to \Ch$ is obtained from the geometric realization and the functor of cellular chains.
When no confusion arises from doing so we write $\chains$ instead of $\schains$ and refer to it simply as the functor of \textit{chains}.
We will denote the functor of (simplicial) \textit{singular chains} $\schains \circ \sSing \colon \Top \to \Ch$ by $\sSchains$.
We modify this construction for a pointed topological space $(\fX,x)$ by only considering maps $\gsimplex^n \to \fX$ sending all vertices to $x$.
This produces a reduced simplicial set $\sSing(\fX,x)$ whose normalized chains we denote by $\sSchains(\fX,x)$.

We now recall a classical chain approximation of the diagonal map on the chains of a simplicial set, i.e. a lift of the functor of chains to coalgebras:
\[
\begin{tikzcd}
	& \coAlg \arrow[d] \\
	\sSet \arrow[r, "\schains"] \arrow[ur, "\schainsA", out=70, in=180] & \Ch.
\end{tikzcd}
\]
It suffices to define this functor $\schainsA$ on standard simplices.
 For any $n \in \N$, define $\Delta \colon \chains(\simplex^n) \to \chains(\simplex^n)^{\ot2}$ by
\[
\Delta \big( [v_0, \dots, v_q] \big) = \sum_{i=0}^q \ [v_0, \dots, v_i] \ot [v_i, \dots, v_q]
\]
and $\epsilon \colon \chains(\simplex^n) \to \k$ by
\[
\epsilon \big( [v_0, \dots, v_q] \big) = \begin{cases} 1 & \text{ if } q = 0, \\ 0 & \text{ if } q>0. \end{cases}
\]
We referred to this lift as the \textit{Alexander--Whitney coalgebra} structure on simplicial chains.
% This construction gives rise to a cosimplicial coalgebra $[n] \mapsto \schainsA(\simplex^n)$. For an arbitrary simplicial set $X$ define
% \[
% \schainsA(X) = \colim_{\simplex^n \to X} \schainsA(\simplex^n).
% \]
% This construction is known as the \textit{Alexander--Whitney coalgebra} structure on simplicial chains.

If $X$ is a reduced simplicial set then $\schainsA(X)$ becomes a connected coalgebra with the coaugmentation $\nu \colon \k \to \schains(X)$ induced by sending $1$ to the basis element represented by the unique $0$-simplex of $X$.
Hence, the functor $\schainsA$ restricts to a functor
\[
\schainsA \colon \sSet^0 \to \coAlg^0.
\]

\subsection{Cubical theory}\label{ss:cubical}

The \textit{cube category} (with a connection) $\cube$ is the subcategory of $\Set$ whose objects are $2^n = \{0, 1\}^n$ for $n \in \N$ with $2^0 = \{0\}$.
We will denote $2^1$ by $2$ and $2^0$ by $1$, which is the unit of the monoidal structure of $\cube$ given by $2^n \times 2^m = 2^{n+m}$.
The morphisms of $\cube$ are monoidally generated by
\begin{equation}\label{eq:cube generators}
	\begin{tikzcd}
		1 \arrow[r, out=45, in=135, "\delta_0"] \arrow[r, out=-45, in=-135, "\delta_1"'] & 2 \arrow[l, "\sigma"'] &[-10pt] \arrow[l, "\gamma"'] 2 \times 2
	\end{tikzcd}
\end{equation}
defined by
\begin{gather*}
	\delta_0(0) = 0, \qquad
	\delta_1(0) = 1, \qquad
	\sigma(p) = 0, \qquad
	\gamma(p,q) = \max(p,q),
\end{gather*}
for $p,q \in \{0,1\}$.
We remark that the cube category without connections will not be considered in this work.

The category of \textit{cubical sets} $\Fun(\cube^\op, \Set)$ is denoted by $\cSet$ and
the \textit{standard $n$-cube} $\cube(-, 2^n)$ by $\cube^n$.
For any cubical set $Y$ we write, as usual, $Y_n$ instead of $Y(2^n)$.
The monoidal structure on $\cube$ induces one on $\cSet$.
More explicitly, for two cubical sets we have
\[
(Y \times Y')_n = \bigsqcup_{i+j=n} Y_i \times Y'_j.
\]

Consider the monoidal functor $\cube \to \Top$ defined by assigning $2$ to the usual interval $\gcube^1$ and \eqref{eq:cube generators} to the obvious maps
\[
\begin{tikzcd}
	\gcube^0 \arrow[r, out=45, in=135, "\delta_0"] \arrow[r, out=-45, in=-135, "\delta_1"'] & \gcube^1 \arrow[l, "\sigma"'] &[-10pt] \arrow[l, "\gamma"'] \gcube^2.
\end{tikzcd}
\]
From this functor we obtain the usual adjunction pair formed by the \textit{geometric realization} and \textit{singular complex}
\[
\begin{tikzcd}
	\bars{\ } \colon \cSet \arrow[r, shift left=.5ex] &
	\Top :\! \cSing. \arrow[l, shift left=.5ex]
\end{tikzcd}
\]
Notice that $\cSing$ is lax monoidal
\[
(\gcube^n \to \fX) \times (\gcube^m \to \fX') \mapsto (\gcube^{n+m} \to \fX \times \fX').
\]
%coming from the cocubical space defined by the spaces $\gcube^n$ and usual coface inclusions $\delta^i_{\varepsilon} \colon \gcube^{n-1} \to \gcube^n$ and codegeneracy and coconnection projections $\sigma^j, \gamma^j \colon \gcube^n \to \gcube^{n-1}$.

The functor of (normalized) \textit{cubical chains} $\cchains \colon \cSet \to \Ch$ is the unique monoidal functor defined by assigning to $\cube^1$ the usual cellular chains of the interval $\gcube^1$.
When no confusion arises from doing so we write $\chains$ instead of $\cchains$ and refer to it simply as the functor of \textit{chains}.
We remark that $\cchains$ is naturally equivalent to the composition of the geometric realization and cellular chains functors.
We will denote the functor of (cubical) \textit{singular chains} $\cchains \circ \cSing \colon \Top \to \Ch$ by $\cSchains$.

Since $\chains(\cube^1)$ is a coalgebra and the category of coalgebras is monoidal, there is a unique monoidal functor
$\cchainsA$ lifting the functor of chains
\[
\begin{tikzcd}
	& \coAlg \arrow[d] \\
	\cSet \arrow[r, "\cchains"] \arrow[ur, "\cchainsA", out=70, in=180] & \Ch.
\end{tikzcd}
\]
We refer to this lift as the \textit{Serre coalgebra} structure on cubical chains.

%defined, using a Yoneda extension, by the tensor product structure (\cref{ss:coalgebras}) defined on $\chains(\cube^n) = \chains(\cube^1)^{\ot n}$ via the identification of $\chains(\cube^1)$ and $\chains(\simplex^1)$.
%We refer to this lift as the \textit{Serre coalgebra} structure on cubical chains.
%We will prove in \cref{ss:cube_einfty revisited} a generalization of the following reformulation of this definition.
%
%\begin{proposition}\label{p:serre coalgebra}
%	The functor $\cchainsA \colon \cSet \to \coAlg$ is the unique monoidal functor defined by the coalgebra structure on $\chains(\cube^1)$.
%\end{proposition}