
\subsection{On cubes}

The \textit{cube category with connections} $\cube$ is the subcategory of $\mathsf{Cat}$ such that
\begin{itemize}
    \item the objects of $\cube$ are the categories $1, 2^1, 2^2, ...$, where $1=2^0$ is the category with one object and one morphism, $2$ is the category with two objects $\mathfrak{0}$ and $\mathfrak{1}$ and only one non-identity morphism $\mathfrak{0}\to \mathfrak{1}$, and $2^n$ denotes the Cartesian product of $n$ copies of $2$.
    
    \item the morphisms of $\cube$ are generated by  \textit{cubical co-faces} $\delta^{\epsilon}_i: 2^{n-1} \to 2^{n}$ $(i=0,...,n, \epsilon=0,1$), \textit{cubical co-degeneracies} $\sigma_i: 2^n \to 2^{n-1}$, $(i=1,...,n)$ and \textit{cubical co-connections} $\gamma_i: 2^n \to 2^{n-1}$ ($i=1,...,n-1, n\geq 2$), see \cite{Brown-Higgins}, \cite{rivera-zeinalian-cubical}. 
\end{itemize}
We denote by $\cube_{\deg}$ the subcategory of $\cube$ with the same objects and morphisms of the form $\sigma_i \circ \tau$ and $\gamma_i \circ \tau$ for any morphism $\tau$ in $\cube$.  The category $\square$ becomes a monoidal category when equipped with $2^n \otimes 2^m := 2^{n+m}$. 

%is the free strict monoidal category with a \textit{bipointed object}
%\begin{equation*}
%\begin{tikzcd}
%1 \arrow[r, bend left, "\delta^0"] \arrow[r, bend right, "\delta^1"'] & 2 \arrow[r, "\sigma"] & 1
%\end{tikzcd}
%\end{equation*}
%such that $\sigma \circ \delta^0 = \sigma \circ \delta^1 = \mathrm{id}$. Explicitly, it contains an object $2^n$ for each non-negative integer $n$ and its morphisms are generated by the \textit{coface} and \textit{codegeneracy maps} defined by
%\begin{align*}
%\delta_i^\varepsilon & = \mathrm{id}_{2^{i-1}} \times \delta^\varepsilon \times \mathrm{id}_{2^{n-1-i}} \colon 2^{n-1} \to 2^n, \\
%\sigma_i & = \mathrm{id}_{2^{i-1}} \times \, \sigma \times \mathrm{id}_{2^{n-i}} \colon 2^{n} \to 2^{n-1}.
%\end{align*}
%We denote by $\cube_{\deg}$ the subcategory with the same objects as $\cube$ and morphisms of the form $\sigma_i \circ \tau$ for any morphisms $\tau$ of $\cube$.

The category of \textit{cubical sets with connections} is the functor category $\cSet = \Fun(\cube^\op, \Set)$.
The \textit{standard $n$-cube} is the cubical set $\cube^n = \cube(-, 2^n)$, and the \textit{Yoneda embedding} $\Y \colon \cube \to \cSet$ is the functor induced by $2^n \mapsto \cube^n$.
For any cubical set $X$ we have
\begin{equation*}
X_n \cong \colim_{\cube^n \to X} \cube^n.
\end{equation*}
Let $\cchains \colon \cube \to \Ch$ be the monoidal functor defined by
\begin{equation*}
N(2^n)_m =
\frac{R\{\cube(2^m, 2^n)\}}{R\{\cube_{\deg}(2^m, 2^n)\}}\,,
\qquad \qquad
\partial (\tau) = \sum_{i=1}^m (-1)^i (\tau \circ \delta^1_i - \tau \circ \delta^0_i)
\end{equation*}
We remark that $\cchains(2)$ is isomorphic to the cellular chains $C(\mathbb I)$ on the interval with its standard CW structure, and that $\cchains(2^n)$ is therefore isomorphic to $C(\mathbb I)^{\otimes n}$. 

Since the category $\Ch$ is cocomplete, we may extend $\cchains \colon \cube \to \Ch$ by Kan extension along the Yoneda embedding to define the functor of \textit{(normalized) chains} $$\cchains \colon \cSet \to \Ch.$$
By construction this functor satisfies $\cchains(\cube^n) \cong C(\mathbb I)^{\otimes n}$.

We recall a natural $\mathcal M$-bialgebra structure on $\cchains(\square^n)$ for every $n \geq 0$, where $\mathcal M$ is the $E_{\infty}$-prop defined in \ref{propM}. This structure is determined by three linear maps satisfying the relations in the presentation of $\mathcal M$.
For $n \in \mathbb{N}$, define: \vspace*{5pt} \\
(1) The counit $\epsilon \in \Hom(\cchains(\square^n), R)$ by
\begin{equation*}
\epsilon \left( x_1 \otimes \cdots \otimes x_d \right) = \epsilon(x_1) \cdots \, \epsilon(x_n),
\end{equation*}
where
\begin{equation*}
\epsilon([0]) = \epsilon([1]) = 1, \qquad \epsilon([0, 1]) = 0.
\end{equation*} \vspace*{-6pt} \\
(2) The coproduct $\Delta \in \Hom \left( \cchains(\square^n), \cchains(\square^n)^{\otimes 2} \right)$ by
\begin{equation*}	
\Delta (x_1 \otimes \cdots \otimes x_n) = 	
\sum \pm \left( x_1^{(1)} \otimes \cdots \otimes x_n^{(1)} \right) \otimes 	
\left( x_1^{(2)} \otimes \cdots \otimes x_n^{(2)} \right),	
\end{equation*}	
where the sign is determined using the Koszul convention, and we are using Sweedler's notation
\begin{equation*}	
\Delta(x_i) = \sum x_i^{(1)} \otimes x_i^{(2)}
\end{equation*}
for the chain map $\Delta \colon \cchains(\square^1) \to \cchains(\square^1)^{\otimes 2}$ defined by
\begin{equation*}
\Delta([0]) = [0] \otimes [0], \quad \Delta([1]) = [1] \otimes [1], \quad \Delta([0, 1]) = [0] \otimes [0, 1] + [0, 1] \otimes [1].
\end{equation*}
Using that $\cchains(\square^n) = \cchains(\square^1)^{\otimes n}$, $\Delta$ is the composition
\begin{equation*}
\begin{tikzcd}
\cchains(\square^1)^{\otimes n} \arrow[r, "\Delta^{\otimes n}"] & \left( \cchains(\square^1)^{\otimes 2}  \right)^{\otimes n} \arrow[r, "sh"] & \left( \cchains(\square^1)^{\otimes n} \right)^{\otimes 2}
\end{tikzcd}
\end{equation*}
where $sh$ is the shuffle map that places tensor factors in odd position first. \vspace*{5pt} \\
(3) The product $\ast \in \Hom(\cchains(\square^n)^{\otimes 2}, \cchains(\square^n))$ by
\begin{align*}
(x_1 \otimes \cdots \otimes x_n) \ast (y_1 \otimes \cdots \otimes y_n) =
(-1)^{|x|} \sum_{i=1}^n x_{<i} \epsilon(y_{<i}) \otimes x_i \ast y_i \otimes \epsilon(x_{>i})y_{>i},
\end{align*}
where
\begin{align*}
x_{<i} & = x_1 \otimes \cdots \otimes x_{i-1}, &
y_{<i} & = y_1 \otimes \cdots \otimes y_{i-1}, \\
x_{>i} & = x_{i+1} \otimes \cdots \otimes x_n, & 
y_{>i} & = y_{i+1} \otimes \cdots \otimes y_n,
\end{align*}
with the convention
\begin{equation*}
x_{<1} = y_{<1} = x_{>n} = y_{>n} = 1 \in \Z,
\end{equation*}
and the only non-zero values of $x_i \ast y_i$ are
\begin{equation*}
\ast([0] \otimes [1]) = [0, 1], \qquad  \ast([1] \otimes [0]) = -[0, 1].
\end{equation*}

The counit $\varepsilon$ and coproduct $\Delta$ are known respectively as the \textit{augmentation} and \textit{Serre's diagonal}.
They define a natural counital coassociative coalgebra structure on each $\cchains(\cube^n)$, or equivalently a lift of the functor of chains
\begin{equation} \label{e:Serre lift}
\begin{tikzcd}[column sep=small, row sep=small]
& \coAlg \arrow[d] \\
\cube \arrow[r, "N"] \arrow[dashed, ur, bend left]& \Ch.
\end{tikzcd}
\end{equation}
The following statement was shown in \cite{medina2021cubical}.

\begin{proposition} \label{thm: cubical chain bialgebra}
	For every $n \in \mathbb{N}$, the assignment
	\begin{equation*}
	\counit \mapsto \epsilon, \quad \coproduct \mapsto \Delta, \quad \product \mapsto \ast,
	\end{equation*}
	defines a natural $\mathcal M$-bialgebra structure on $\cchains(\square^n)$ or, equivalently, a lift of the functor of chains
	\begin{equation} \label{e:cubical lift to bialgebras}
	\begin{tikzcd}[column sep=small, row sep=small]
	& \biAlg_{\M} \arrow[d] \\
	\cube \arrow[r, "N"] \arrow[dashed, ur, bend left]& \Ch.
	\end{tikzcd}
	\end{equation}
\end{proposition}

Using the forgetful functor $U$ on \eqref{e:cubical lift to bialgebras} we obtain a functor $\cube \to \coAlg_{U(\M)}$.
Kan extending this functor and \eqref{e:Serre lift} along the Yoneda embedding we obtain a functor $\cchains_{U(\M)} \colon \cSet \to \coAlg_{U(\M)}$. Hence, we obtain an $E_{\infty}$-coalgebra structure, described explicitly through the operad $U(\M)$, on the normalized chains of any cubical set extending the coassociative Serre diagonal.
\begin{theorem} \label{t:lift of chains of cSets to UM coalgebras}
    The following diagram commutes up to natural isomorphism
    \begin{equation}
    \begin{tikzcd}[column sep=small, row sep=small]
    & \coAlg_{U(\M)} \arrow[d] \\
    & \coAlg \arrow[d] \\
    \cSet \arrow[r, "N"] \arrow[dashed, uur, bend left, "\cchains_{U(\M)}"]& \Ch.
    \end{tikzcd}
    \end{equation}
\end{theorem}
